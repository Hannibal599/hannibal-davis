<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HanniSa | Hannibal P. Davis</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/components/header.css">
    <link rel="stylesheet" href="../css/components/footer.css">
    <style>
        .project-detail {
            max-width: 800px;
            margin: 0 auto;
        }
        .project-image {
            width: 100%;
            max-height: 400px;
            object-fit: contain;
            margin: 2rem 0;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }
        .project-features {
            margin: 2rem 0;
        }
        .back-link {
            display: inline-block;
            margin-top: 2rem;
            color: var(--secondary-color);
            font-weight: bold;
        }
        .project-meta {
            font-style: italic;
            color: #666;
            margin-bottom: 1rem;
        }
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        .gallery-item {
            cursor: pointer;
            transition: transform 0.3s;
            position: relative;
        }
        .gallery-item:hover {
            transform: scale(1.03);
        }
        .gallery-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: var(--border-radius);
        }
        .gallery-item::after {
            content: " View";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 0.3rem;
            text-align: center;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            opacity: 0;
            transition: opacity 0.3s;
        }
        .gallery-item:hover::after {
            opacity: 1;
        }
        
        /* Lightbox styles */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        .lightbox.active {
            display: flex;
        }
        .lightbox-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            text-align: center;
        }
        .lightbox-img {
            max-height: 80vh;
            max-width: 90vw;
            border-radius: 5px;
        }
        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.5);
            color: white;
            border: none;
            padding: 1rem;
            cursor: pointer;
            font-size: 1.5rem;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .lightbox-nav:hover {
            background: rgba(0,0,0,0.8);
        }
        .lightbox-prev {
            left: 20px;
        }
        .lightbox-next {
            right: 20px;
        }
        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            background: rgba(0,0,0,0.5);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .lightbox-caption {
            color: white;
            margin-top: 1rem;
            font-size: 1.1rem;
        }
    </style>
</head>
<body>
    <header class="main-header" role="banner">
        <div class="header-container">
            <div class="header-left">
                <img src="../images/profile_photo.jpg" alt="Hannibal P. Davis" class="profile-img" loading="lazy" width="50" height="50">
                <div class="name-title">
                    <h1>Hannibal P. Davis</h1>
                    <p>Final Year Student</p>
                </div>
            </div>
            
            <button class="hamburger" aria-label="Toggle menu" aria-expanded="false">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            
            <nav class="header-center" aria-label="Main navigation">
                <ul class="nav-links">
                    <li><a href="../index.html" class="nav-link">Home</a></li>
                    <li><a href="../resume.html" class="nav-link">Resume</a></li>
                    <li><a href="../gallery.html" class="nav-link">Gallery</a></li>
                    <li><a href="../contact.html" class="nav-link">Contact</a></li>
                </ul>
            </nav>
            
            <div class="header-right">
                <div class="social-icons">
                    <a href="https://t.me/hannibaldavis" target="_blank" rel="noopener noreferrer" aria-label="Telegram">
                        <img src="../images/telegram.svg" alt="Telegram" width="24" height="24">
                    </a>
                    <a href="https://wa.me/+231555629357" target="_blank" rel="noopener noreferrer" aria-label="WhatsApp">
                        <img src="../images/whatsapp-48.svg" alt="WhatsApp" width="24" height="24">
                    </a>
                    <a href="https://facebook.com/hannibaldavis" target="_blank" rel="noopener noreferrer" aria-label="Facebook">
                        <img src="../images/facebook-48.svg" alt="Facebook" width="24" height="24">
                    </a>
                    <a href="https://linkedin.com/in/hannibal-davis-p" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
                        <img src="../images/linkedin-48.svg" alt="LinkedIn" width="24" height="24">
                    </a>
                </div>
                <button class="dark-mode-toggle" aria-label="Toggle dark mode">
                    <span class="toggle-icon"></span>
                </button>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <section class="section project-detail">
                <h1>HanniSa</h1>
                <p class="project-meta">Smart School Mobile Application</p>
                
                <div class="gallery">
                    <div class="gallery-item" onclick="openLightbox(0)">
                        <img src="../images/projects/Lunching.png" alt="Lunching Screen">
                    </div>
                    <div class="gallery-item" onclick="openLightbox(1)">
                        <img src="../images/projects/login_screen.png" alt="Login Screen">
                    </div>
                    <div class="gallery-item" onclick="openLightbox(2)">
                        <img src="../images/projects/Reset_password_Screen.PNG" alt="Reset Password Screen">
                    </div>
                    <div class="gallery-item" onclick="openLightbox(3)">
                        <img src="../images/projects/Professor_Home_Page.PNG" alt="Professor Home Page">
                    </div>
                    <div class="gallery-item" onclick="openLightbox(4)">
                        <img src="../images/projects/Professor_Courses.PNG" alt="Professor Courses">
                    </div>
                    <div class="gallery-item" onclick="openLightbox(5)">
                        <img src="../images/projects/Professor_Sidebar_menu.PNG" alt="Professor Sidebar Menu">
                    </div>
                </div>
                
                <h2>Project Description</h2>
                    <p style="text-align: justify;">HanniSa is developed in Flutter and uses Google Firebase Database for data storage. 
                        This application allows the Registrar to sign up and login, View, Edit and Register Students, Create or Upload Timetable, View, Add and Edit Student Grades, Print Grades Sheet and Receipt. 
                        The total marks of each student and the eligibility of the student is automatically calculated when the marks are given as the input. 
                        The Registrar is supposed to input the marks for the Assessment (Quiz, Test, Practical Test and Final Exam). The student is allow to signup and login to the application. 
                        The student, once logged in, will be able to registrar, view profile; students can access these materials and grades conveniently from any part of the world.  
                        Teacher is also allow signing up and login to the application, view timetable, share resources, assignments, and study materials with student digitally, and submit students’ results to the registrar. 
                        All these are done conveniently, right on a piece of android smartphone at any time and from anywhere. The Registrar, Teacher/Lecturer and Student may logout of the Application.
                    </p>
                
                <div class="project-features">
                    <h3>Key Features:</h3>
                    <ul>
                        <li>User Authentication: This app uses Email and password login Authentication </li>
                        <li>Role-Based Navigation: Users are fetch from the database based on the user role (Admin, Professor or Student) </li>
                        <li>Password Recovery: This feature allow users to change their password when desire to change their password or forget their password</li>
                        <li>Theme: This app can switch between light mode and dark mode</li>
                        <li>PDF Export: It has the ability to generate and print courses schedule, students grades sheet and other necessary reports</li>
                        <li>Biometric Verification: It uses Fingerprint Authentication for confirmation during students attendance tracking</li>
                    </ul>
                </div>
                
                <h3>Technologies Used:</h3>
                <div class="skills">
                    <span class="skill-tag">Flutter</span>,
                    <span class="skill-tag">Firebase</span>,
                    <span class="skill-tag">Visual Studio Code</span>
                </div>
                
                <a href="../resume.html" class="back-link">← Back to Resume</a>
            </section>
        </div>
    </main>

    <!-- Lightbox HTML -->
    <div class="lightbox" id="lightbox">
        <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
        <button class="lightbox-nav lightbox-prev" onclick="changeImage(-1)">❮</button>
        <div class="lightbox-content">
            <img class="lightbox-img" id="lightbox-img" src="" alt="">
            <div class="lightbox-caption" id="lightbox-caption"></div>
        </div>
        <button class="lightbox-nav lightbox-next" onclick="changeImage(1)">❯</button>
    </div>

    <footer class="main-footer" role="contentinfo">
        <div class="footer-content">
            <p>&copy; <span id="year"></span> Hannibal P. Davis. All rights reserved.</p>
            <div class="footer-links">
                <a href="../privacy.html">Privacy Policy</a>
                <a href="../terms.html">Terms of Service</a>
            </div>
        </div>
    </footer>

    <script src="../js/main.js"></script>
    <script src="../js/dark-mode.js"></script>
    <script>
        // Gallery images with captions
        const images = [
            { 
                src: "../images/projects/Lunching.png", 
                alt: "Launching Screen",
                caption: "User-friendly interface that give user access to the system"
            },
            { 
                src: "../images/projects/login_screen.png", 
                alt: "Login Screen",
                caption: "Login Screen for users authentication or access to the system"
            },
            { 
                src: "../images/projects/Reset_password_Screen.png", 
                alt: "Reset Password Screen",
                caption: "This is the Reset password Screen"
            },
            { 
                src: "../images/projects/Professor_Home_Page.png", 
                alt: "Professor Home Page",
                caption: "Professor Home Page"
            },
            { 
                src: "../images/projects/Professor_Courses.png", 
                alt: "Professor Courses",
                caption: "Professor Courses Screen"
            },
            { 
                src: "../images/projects/Professor_Sidebar_menu.png", 
                alt: "Professor Sidebar Menu",
                caption: "Professor Sidebar Menu"
            }
        ];
        
        let currentImageIndex = 0;

        function openLightbox(index) {
            currentImageIndex = index;
            updateLightboxImage();
            document.getElementById('lightbox').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function changeImage(step) {
            currentImageIndex += step;
            if (currentImageIndex >= images.length) currentImageIndex = 0;
            if (currentImageIndex < 0) currentImageIndex = images.length - 1;
            updateLightboxImage();
        }

        function updateLightboxImage() {
            const img = document.getElementById('lightbox-img');
            const caption = document.getElementById('lightbox-caption');
            img.src = images[currentImageIndex].src;
            img.alt = images[currentImageIndex].alt;
            caption.textContent = images[currentImageIndex].caption;
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('lightbox').classList.contains('active')) {
                if (e.key === 'Escape') closeLightbox();
                if (e.key === 'ArrowLeft') changeImage(-1);
                if (e.key === 'ArrowRight') changeImage(1);
            }
        });

        // Touch swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        document.getElementById('lightbox-content').addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        }, false);

        document.getElementById('lightbox-content').addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, false);

        function handleSwipe() {
            if (touchEndX < touchStartX - 50) changeImage(1);
            if (touchEndX > touchStartX + 50) changeImage(-1);
        }

        document.getElementById('year').textContent = new Date().getFullYear();
    </script>
</body>
</html>
